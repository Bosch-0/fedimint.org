"use strict";(self.webpackChunkwiki_fedimint=self.webpackChunkwiki_fedimint||[]).push([[6854],{3905:(e,t,i)=>{i.d(t,{Zo:()=>h,kt:()=>p});var a=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)i=s[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)i=s[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=a.createContext({}),d=function(e){var t=a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):r(r({},t),e)),i},h=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,s=e.originalType,l=e.parentName,h=o(e,["components","mdxType","originalType","parentName"]),c=d(i),p=n,m=c["".concat(l,".").concat(p)]||c[p]||u[p]||s;return i?a.createElement(m,r(r({ref:t},h),{},{components:i})):a.createElement(m,r({ref:t},h))}));function p(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=i.length,r=new Array(s);r[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:n,r[1]=o;for(var d=2;d<s;d++)r[d]=i[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,i)}c.displayName="MDXCreateElement"},4808:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var a=i(7462),n=(i(7294),i(3905));const s={sidebar_position:3},r="Debasement Risk",o={unversionedId:"TradeOffs/DebasementRisk",id:"TradeOffs/DebasementRisk",title:"Debasement Risk",description:"This Guide is a work in progress.  We would appreciate any feedback you may have and you can submit edits through the link at the bottom of the page.",source:"@site/docs/TradeOffs/03-DebasementRisk.md",sourceDirName:"TradeOffs",slug:"/TradeOffs/DebasementRisk",permalink:"/wiki_fedimint/docs/TradeOffs/DebasementRisk",draft:!1,editUrl:"https://github.com/humansinstitute/wiki_fedimint/tree/main/docs/TradeOffs/03-DebasementRisk.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Custodial Risk",permalink:"/wiki_fedimint/docs/TradeOffs/NotYourKeys"},next:{title:"Regulatory Risk",permalink:"/wiki_fedimint/docs/TradeOffs/RegulatoryRisk"}},l={},d=[{value:"The Risk",id:"the-risk",level:2},{value:"The Mitigation",id:"the-mitigation",level:2},{value:"In Mint Audits",id:"in-mint-audits",level:3},{value:"Guardian mexican stand off",id:"guardian-mexican-stand-off",level:3},{value:"Know Your Federation",id:"know-your-federation",level:3},{value:"Existing Risk",id:"existing-risk",level:3},{value:"Threshold signatures on eCash Issuance",id:"threshold-signatures-on-ecash-issuance",level:3},{value:"Bank Runs",id:"bank-runs",level:3}],h={toc:d};function u(e){let{components:t,...s}=e;return(0,n.kt)("wrapper",(0,a.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"debasement-risk"},"Debasement Risk"),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"This Guide is a work in progress.  We would appreciate any feedback you may have and you can submit edits through the link at the bottom of the page.")),(0,n.kt)("p",null,"eCash tokens represent a claim on bitcoin held by the federation guardians."),(0,n.kt)("p",null,"As such there is a possibility that the mint could generate more claims for bitcoin than there are bitcoin in the custody of the guardians. "),(0,n.kt)("p",null,"This could have multiple impacts including violating the norms of the 21 million bitcoin and the ability of the user to verify their transactions. "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Dont trust verify",src:i(8326).Z,width:"640",height:"216"})),(0,n.kt)("h2",{id:"the-risk"},"The Risk"),(0,n.kt)("p",null,"This risk is really a balance sheet and audit problem. "),(0,n.kt)("p",null,"At all times the mint has both assets and liabilities which should balance:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Assets:")," The bitcoin held in the on chain multi signature wallet controlled by the federation guardians. "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Liabilities:")," The outstanding number of eCash tokens that have been issued by the mint.  ")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Balance sheet options",src:i(9035).Z,width:"1466",height:"653"})),(0,n.kt)("p",null,"The guardians of the federation have access to all required information that allows them to balance the books between the eCash outstanding and the assets held on chain. "),(0,n.kt)("p",null,"For the user however, whilst they can see the assets on chain, they have no view of the total number of outstanding liabilities. "),(0,n.kt)("p",null,"This mismatch is at the core of this risk as it means that no external party to the guardians who can audit the supply and marks the importance strong 2nd party trust in federation guardians."),(0,n.kt)("p",null,"To understand the impact of this risk we need to consider the incentive for a dishonest guardian and how they would profit from an inflating supply in the mint."),(0,n.kt)("p",null,'By inflating the supply the guardian would gain access to additional "claims" on bitcoin that could be transferred to any of the parties who accept fm-BTC these would be:'),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"The Mint:")," To redeem for bitcoin from the multisig. "),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Merchants / Users:")," In exchange for goods and services."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"LN Gateway:")," In exchange for making and receiving lightning payments (Mint issues eCash and pays out to itself via LN, gateway racks up IOUs and would start redeeming against the bitcoin supply - so we're back to why not steal the bitcoin?)")),(0,n.kt)("p",null,"Each of theses parties could be attacked by a corrupt guardian paying with false claims, however, the impact varies drastically. "),(0,n.kt)("p",null,"Only guardians are able to create and sign false claims and this is done with a threshold of guardians requiring many corrupt guardians. "),(0,n.kt)("p",null,"As such when these guardians attack the mint, the guardians would in effect be attacking themselves and attempting to steal bitcoin they already control.  "),(0,n.kt)("p",null,"The two most likely attacks would likely be via the users and LN Gateway. "),(0,n.kt)("p",null,'To attack merchants would in effect by a "Mint eats free" attack by issuing false tokens and using these to purchase real world goods. '),(0,n.kt)("p",null,"Over a longer period of time more fm-BTC claims would be held by the users and eventually the Fedimint would collapse when the redemption's outpace the bitcoin in the mint. "),(0,n.kt)("p",null,"The LN gateway attack is very similar only instead of cashing out to real world goods the claims are paid to the LN gateway to pay invoices over lightning e.g. to the corrupt guardian external lightning wallet. "),(0,n.kt)("h2",{id:"the-mitigation"},"The Mitigation"),(0,n.kt)("p",null,"In mitigating this risk we should consider both attempting to stop false claims, as well as providing audit and verification (catch cheating guardians in the act and raise an alarm early) for users of the systems to back up the trust model. "),(0,n.kt)("p",null,"Whilst several mitigation activities will be outlined, the tl;dr will be "),(0,n.kt)("h3",{id:"in-mint-audits"},"In Mint Audits"),(0,n.kt)("p",null,"Each consensus epoch, balances the assets and liabilities of the mint "),(0,n.kt)("h3",{id:"guardian-mexican-stand-off"},"Guardian mexican stand off"),(0,n.kt)("h3",{id:"know-your-federation"},"Know Your Federation"),(0,n.kt)("p",null,"You're already trusting the mint with all of your bitcoin. "),(0,n.kt)("p",null,"However, it is in theory possible to perform an attestation to show that the number of issued tokens and the Bitcoin balance held by the federation match at points when a \u201cre-keying checkpoint\u201d is made (a mechanism to periodically switch out private keys and prevent database bloat). Users are required to exchange their old tokens for new ones before each such re-keying checkpoint. This limits the frequency with which the procedure can be performed."),(0,n.kt)("p",null,"The risk here is that the guardians would be able to debase your holding by secretly signing and issuing additional tokens that are spendable inside the mint"),(0,n.kt)("h3",{id:"existing-risk"},"Existing Risk"),(0,n.kt)("h3",{id:"threshold-signatures-on-ecash-issuance"},"Threshold signatures on eCash Issuance"),(0,n.kt)("h3",{id:"bank-runs"},"Bank Runs"))}u.isMDXComponent=!0},9035:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/fm-debasement-balance-combined-117bcda8f4d309125153309b17fe5abd.png"},8326:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/fm-donttrust-verify.excalidraw-701dcb79bb9d05225e7f54678f04a578.png"}}]);